FROM golang:1.17.5

ARG GOOS
ARG GOARCH
ARG EXTEND_FILE
ARG PROJECT_NAME
WORKDIR /go/src/${PROJECT_NAME}

COPY . .

RUN go mod vendor
RUN go build -o ${PROJECT_NAME}${EXTEND_FILE} main.go